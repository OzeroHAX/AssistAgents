# Обновление и резервные копии

## Как обновить AssistAgents

Для обновления используется та же команда, что и для установки:

```bash
npx -g @ozerohax/assistagents@latest
```

## Что обновление заменяет

При повторном запуске заменяются каталоги:

- `~/.opencode/agents`
- `~/.opencode/skills`

Опционально перезаписывается `~/.opencode/tools` (если включены hash-инструменты).

Также обновляется `~/.opencode/opencode.jsonc` и при необходимости создается backup его предыдущей версии в формате `.bak-YYYYMMDD-HHmmss`.

## Когда обязательно включать backup

Включайте zip-бэкап, если:

- вы вручную редактировали файлы в `agents` или `skills`;
- хотите безопасно откатиться после обновления;
- обновляете конфигурацию MCP/ключей и хотите сохранить снимок текущего состояния.

## Практика безопасного обновления

1. Перед запуском закройте активные сессии, которые используют текущие агенты.
2. Запустите установщик с включенным backup.
3. После обновления проверьте, что нужные MCP остались включены.
4. Сделайте короткий smoke-check: `build/planner` -> `build/dev` -> `test`.
