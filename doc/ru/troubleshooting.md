# Устранение неполадок

## `assistagents failed: This installer only works in interactive TUI mode (TTY not found).`

Причина: установщик запущен не в интерактивном терминале.

Что делать:

- запустите команду в обычном терминале;
- не запускайте установщик в non-interactive CI shell;
- если запускали через обертку, проверьте что stdin/stdout доступны как TTY.

## Интеграция включена, но инструменты недоступны

Возможные причины:

- не введен обязательный ключ;
- интеграция была автоматически отключена установщиком;
- устарел `opencode.jsonc`.

Что делать:

1. Повторно запустите установщик.
2. Выберите нужные MCP-интеграции.
3. Введите/обновите ключи для требуемых сервисов.

## Не появились hash-based file tools

Причина: опция `Enable experimental hash-based file tools` не была включена.

Что делать:

- повторно запустите установщик;
- включите опцию hash-инструментов.

## Пропали кастомные правки в агентах/скиллах/командах

Причина: повторный запуск заменяет `~/.opencode/agents`, `~/.opencode/skills` и `~/.opencode/commands` содержимым шаблонов.

Что делать:

- восстановите нужные правки из backup;
- в следующий раз перед обновлением включайте создание zip-бэкапа.

## Базовая диагностика

- Проверьте наличие файлов: `~/.opencode/opencode.jsonc`, `~/.opencode/agents`, `~/.opencode/skills`, `~/.opencode/commands`.
- Убедитесь, что в `~/.opencode/keys` есть файлы ключей для активных интеграций.
- Если проблема сохраняется, повторите установку в чистой интерактивной сессии терминала.
